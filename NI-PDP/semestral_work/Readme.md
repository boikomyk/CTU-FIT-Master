## How to build
 - for sequence: `g++ -std=c++11 -O3 *.cpp` 
 - for parallel: `g++ -fopenmp -std=c++11 -O3 *.cpp`
 - for parallel + mpi: `mpicxx -fopenmp -std=c++11 -O3 *.cpp`

## How to run
 - sequence, parallel: `./a.out --path filename/directory`
 - mpi: `mpirun -N NUMBER_OF_PROCESSES --path filename/directory`


## Solutions outputs (in project root_dir/outputs/):
 - SEQUENCE: file `sequence_output.log` 
 - TASK:     file `task_parallel_output.log`
 - DATA:     file `data_parallel_output.log`

## Scripts to obtain correct time/calls number from cluster output
 - get time [s] (to get time in [ms] remove division by 1000)

`
for i in {1..12}; do
    cat parallel_job.sh.o120682 | grep -A4 -e "^$i)" | grep Time | \
    awk 'BEGIN {sum = 0;} { sum += $3; } END {printf ("%.3f\n", sum / 3.0 / 1000 );}';
done
`

 - get calls number (in scientific format)

`
for i in {1..12}; do
    cat serial_job.sh.o120667 | grep -A4 -e "^$i)" | grep Calls | \
    awk 'BEGIN {sum = 0;} { sum += $3; } END {printf ("%.3e\n", sum / 3.0 );}';
done
`

## Common table of scores: (Sequence, Task parallelism, Data parallelism)

| File      | Seq[s]  | Task[s]  |  Data[s] | Price | Seq #calls | Task #calls | Data #calls |
|-----------|---------|----------|----------|-------|------------|-------------|-------------|
| saj1.txt  | 0.      | 0.003    | 0.001    | 5     | 1.800e+01  | 9.963e+02   | 2.750e+02   |
| saj2.txt  | 3.348   | 1.130    | 1.337    | 14    | 2.425e+06  | 4.058e+06   | 2.409e+06   |
| saj3.txt  | 1.018   | 0.005    | 0.014    | 12    | 6.118e+05  | 1.462e+04   | 1.834e+04   |
| saj4.txt  | 13.250  | 0.393    | 0.724    | 14    | 1.020e+07  | 1.572e+06   | 1.551e+06   |
| saj5.txt  | 0.062   | 0.027    | 0.014    | 12    | 3.343e+04  | 8.479e+04   | 1.955e+04   |
| saj6.txt  | 5.352   | 0.869    | 2.821    | 16    | 3.315e+06  | 2.832e+06   | 2.787e+06   |
| saj7.txt  | 0.370   | 0.101    | 0.047    | 16    | 2.152e+05  | 3.271e+05   | 8.649e+04   |
| saj8.txt  | 185.866 | 51.258   | 95.296   | 20    | 1.155e+08  | 1.668e+08   | 1.020e+08   |
| saj9.txt  | 15.581  | 1.019    | 0.796    | 26    | 8.840e+06  | 3.295e+06   | 2.429e+06   |
| saj10.txt | 82.334  | 14.140   | 61.437   | 20    | 4.540e+07  | 4.540e+07   | 4.540e+07   |
| saj11.txt | 1.021   | 0.559    | 0.408    | 18    | 6.812e+05  | 1.883e+06   | 1.030e+06   |
| saj12.txt | 425.745 | 125.734  | 146.334  | 22    | 2.663e+08  | 4.192e+08   | 4.169e+08   |


## Sequence solution output:
1)_________________________________________________________________
 - Time [ms]: 0
 - Price: 5
 - Calls number: 18
 - Moving history: [4,4]*, [1,2], [3,3], [3,1]*, [2,4]*
________________________________________________________________
2)_________________________________________________________________
 - Time [ms]: 3348
 - Price: 14
 - Calls number: 2425445
 - Moving history: [0,1], [3,3]*, [4,5]*, [5,4]*, [3,4], [6,2]*, [1,6]*, [4,1], [0,5], [3,3], [1,4], [2,5], [0,3], [0,6]*
________________________________________________________________
3)_________________________________________________________________
 - Time [ms]: 1018
 - Price: 12
 - Calls number: 611825
 - Moving history: [4,2]*, [3,3]*, [5,1]*, [4,5], [6,0]*, [6,4], [7,1]*, [8,3]*, [6,2]*, [7,1], [5,1], [9,2]*
________________________________________________________________
4)_________________________________________________________________
 - Time [ms]: 13250
 - Price: 14
 - Calls number: 10197861
 - Moving history: [4,4]*, [1,2]*, [3,3], [3,1]*, [2,4]*, [1,0]*, [5,1]*, [2,2], [4,0], [3,4], [3,1], [4,2], [2,0], [5,4]*
________________________________________________________________
5)_________________________________________________________________
 - Time [ms]: 62
 - Price: 12
 - Calls number: 33433
 - Moving history: [4,4]*, [6,2]*, [3,3]*, [8,3]*, [1,1], [7,1]*, [0,2]*, [9,2]*, [3,5]*, [8,4], [2,4], [6,5]*
________________________________________________________________
6)_________________________________________________________________
 - Time [ms]: 5352
 - Price: 16
 - Calls number: 3314693
 - Moving history: [4,4]*, [6,2]*, [3,3]*, [8,3]*, [6,6]*, [7,1]*, [4,4], [9,2]*, [3,5]*, [8,4], [0,2]*, [6,5]*, [1,1], [8,6], [0,0], [6,7]*
________________________________________________________________
7)_________________________________________________________________
 - Time [ms]: 370
 - Price: 16
 - Calls number: 215182
 - Moving history: [4,4]*, [6,2]*, [3,3]*, [8,3]*, [6,6]*, [7,1]*, [4,4], [9,2]*, [3,5]*, [8,4], [0,2]*, [6,5]*, [6,8]*, [8,6], [5,9]*, [6,7]*
________________________________________________________________
8)_________________________________________________________________
 - Time [ms]: 185866
 - Price: 20
 - Calls number: 115478045
 - Moving history: [4,4]*, [6,2]*, [3,3]*, [8,3]*, [6,6]*, [7,1]*, [4,4], [9,2]*, [3,5]*, [8,4], [0,2]*, [6,5]*, [6,8]*, [7,7], [5,9]*, [6,9]*, [4,8], [8,8], [3,7], [6,7]*
________________________________________________________________
9)_________________________________________________________________
 - Time [ms]: 15581
 - Price: 26
 - Calls number: 8840323
 - Moving history: [2,1]*, [5,4]*, [3,2]*, [7,5]*, [2,3]*, [9,6]*, [0,1]*, [8,8]*, [9,10], [10,7]*, [10,9]*, [8,6]*, [11,10]*, [9,8]*, [12,11]*, [7,7]*, [8,7]*, [6,5]*, [7,6]*, [4,4]*, [8,5]*, [3,6], [4,1]*, [5,5]*, [5,0]*, [4,3]*
________________________________________________________________
10)_________________________________________________________________
 - Time [ms]: 82334
 - Price: 20
 - Calls number: 45402357
 - Moving history: [5,5]*, [2,2]*, [4,4]*, [3,0]*, [3,3]*, [1,1]*, [7,7]*, [2,3]*, [8,8]*, [3,1]*, [9,9]*, [1,2]*, [2,2], [2,0]*, [1,3]*, [3,2]*, [0,2], [4,0], [1,1], [2,1]*
________________________________________________________________
11)_________________________________________________________________
 - Time [ms]: 1021
 - Price: 18
 - Calls number: 681189
 - Moving history: [4,4]*, [0,2]*, [6,2]*, [1,4]*, [8,4]*, [0,2], [4,8]*, [2,1], [5,9]*, [1,3]*, [7,11]*, [2,1], [9,9]*, [4,0]*, [7,7]*, [6,1], [11,11]*, [8,0]*
________________________________________________________________
12)_________________________________________________________________
 - Time [ms]: 425745
 - Price: 22
 - Calls number: 266341651
 - Moving history: [4,4]*, [0,2]*, [7,7]*, [1,4]*, [5,9]*, [2,2], [4,8]*, [4,1], [7,11]*, [6,2]*, [9,9]*, [8,1]*, [11,11]*, [6,0], [6,6], [7,2], [8,4]*, [8,0]*, [4,0]*, [10,1], [1,3]*, [8,2]*
________________________________________________________________